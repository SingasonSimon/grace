<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Grace!</title>
    <!-- Tailwind CSS CDN for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom CSS for the neon glow effect */
        .neon-text {
            text-shadow: 0 0 7px #fff,
                         0 0 10px #fff,
                         0 0 21px #fff,
                         0 0 42px #9c00ff,
                         0 0 82px #9c00ff,
                         0 0 92px #9c00ff,
                         0 0 102px #9c00ff,
                         0 0 151px #9c00ff;
        }

        /* Custom CSS for the backdrop filter on the main card */
        .card-backdrop {
            backdrop-filter: blur(10px) saturate(180%);
            -webkit-backdrop-filter: blur(10px) saturate(180%);
            background-color: rgba(255, 255, 255, 0.1);
        }

        /* Set font to Inter for a modern look */
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #220033 0%, #0c001a 100%);
            /* Ensure the body takes up at least the full viewport height and allows scrolling */
            min-height: 100vh;
        }

        /* Styles for the animated particles and balloons on the canvas */
        canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1; /* Place the canvas behind the content */
        }
    </style>
</head>
<body>

    <!-- Canvas for the background particle and balloon animation -->
    <canvas id="birthday-canvas"></canvas>

    <!-- HTML Audio Element (hidden) -->
    <!-- The 'loop' attribute ensures the music plays continuously -->
    <audio id="background-music" src="music/Dua Lipa  Levitating Lyrics.mp3" loop hidden></audio>

    <!-- Music Player Button -->
    <button id="music-btn" class="fixed top-4 right-4 p-3 rounded-full bg-purple-600 hover:bg-purple-700 text-white shadow-lg transition-all z-50">
        <svg id="play-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
            <path d="M8 5v14l11-7z"/>
        </svg>
        <svg id="pause-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 hidden" fill="currentColor" viewBox="0 0 24 24">
            <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>
        </svg>
    </button>

    <!-- Main content container, centered and responsive -->
    <!-- Added flexbox for vertical stacking and centering -->
    <main class="flex flex-col items-center w-full max-w-2xl mx-auto p-4 md:p-8 text-center z-10">
        <!-- "Happy Birthday" title with neon glow -->
        <h1 class="text-5xl xs:text-6xl sm:text-7xl md:text-8xl lg:text-9xl font-bold neon-text mb-4 leading-none mt-8 md:mt-16">
            Happy Birthday
        </h1>
        <!-- "Grace!" subtitle -->
        <p class="text-2xl md:text-4xl text-purple-300 font-semibold mb-8">
            Grace!
        </p>

        <!-- Main card containing the cake image -->
        <div class="relative w-full max-w-sm mx-auto p-4 rounded-3xl card-backdrop border border-purple-500 shadow-2xl mb-8">
            <!-- Decorative stars and confetti -->
            <span class="absolute top-2 right-4 text-yellow-300 text-3xl animate-pulse">‚ú®</span>
            <span class="absolute bottom-4 left-6 text-yellow-300 text-2xl animate-spin-slow">üåü</span>
            <span class="absolute -top-4 -right-4 text-red-400 text-xl animate-bounce">üéÇ</span>
            
            <!-- The cake image -->
            <img 
                src="images/cake.jpg" 
                alt="A beautiful birthday cake" 
                class="w-full rounded-2xl border-2 border-purple-500 shadow-lg"
                onerror="this.src='https://placehold.co/400x400/8b5cf6/ffffff?text=Birthday+Cake+Image+Failed+to+Load';">
        </div>

        <!-- 2D Carousel container -->
        <div id="carousel-container" class="relative w-full max-w-xs sm:max-w-sm mx-auto flex items-center justify-between mt-8">
            <!-- Previous button -->
            <button id="prevBtn" class="bg-white/20 hover:bg-white/30 text-white p-2 rounded-full shadow-lg transition-all duration-300">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                </svg>
            </button>
            
            <!-- Carousel image -->
            <img id="carousel-img" 
                 src="images/1.jpg" 
                 alt="Carousel image" 
                 class="rounded-2xl border-2 border-purple-500 shadow-lg w-full max-w-[200px] xs:max-w-[250px] sm:max-w-[300px] mx-2 transition-transform duration-300 transform-gpu hover:scale-105">

            <!-- Next button -->
            <button id="nextBtn" class="bg-white/20 hover:bg-white/30 text-white p-2 rounded-full shadow-lg transition-all duration-300">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
            </button>
        </div>

        <!-- "Let's celebrate" message at the bottom -->
        <p class="mt-8 text-xl font-medium text-white tracking-wide">
            Let's celebrate another amazing year around the sun! 
            <span class="text-yellow-400 ml-1">‚òÄÔ∏è</span>
        </p>
    </main>

    <script>
        // JavaScript for the background particle and balloon animation
        document.addEventListener('DOMContentLoaded', () => {
            const canvas = document.getElementById('birthday-canvas');
            const ctx = canvas.getContext('2d');

            let particles = [];
            const numParticles = 200;
            let balloons = [];
            const numBalloons = 15;

            // Set canvas size to the window dimensions
            function resizeCanvas() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }
            window.addEventListener('resize', resizeCanvas);
            resizeCanvas();

            // Particle object constructor
            function Particle(x, y, radius, color, velocity) {
                this.x = x;
                this.y = y;
                this.radius = radius;
                this.color = color;
                this.velocity = velocity;

                this.draw = function() {
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false);
                    ctx.fillStyle = this.color;
                    ctx.fill();
                    ctx.closePath();
                };

                this.update = function() {
                    // Update particle position
                    this.x += this.velocity.x;
                    this.y += this.velocity.y;

                    // Reverse direction if particle hits canvas edges
                    if (this.x + this.radius > canvas.width || this.x - this.radius < 0) {
                        this.velocity.x = -this.velocity.x;
                    }
                    if (this.y + this.radius > canvas.height || this.y - this.radius < 0) {
                        this.velocity.y = -this.velocity.y;
                    }

                    this.draw();
                };
            }

            // Balloon object constructor
            function Balloon(x, y, size, color, velocity) {
                this.x = x;
                this.y = y;
                this.size = size;
                this.color = color;
                this.velocity = velocity;

                this.draw = function() {
                    ctx.save();
                    ctx.translate(this.x, this.y);
                    
                    // Draw the balloon body (circle)
                    ctx.beginPath();
                    ctx.arc(0, 0, this.size, 0, Math.PI * 2, false);
                    ctx.fillStyle = this.color;
                    ctx.fill();
                    
                    // Draw the neck (small triangle)
                    ctx.beginPath();
                    ctx.moveTo(0, this.size);
                    ctx.lineTo(-this.size * 0.2, this.size + this.size * 0.5);
                    ctx.lineTo(this.size * 0.2, this.size + this.size * 0.5);
                    ctx.fill();

                    // Draw the string
                    ctx.strokeStyle = '#fff';
                    ctx.lineWidth = 1;
                    ctx.beginPath();
                    ctx.moveTo(0, this.size + this.size * 0.5);
                    ctx.lineTo(0, this.size * 5);
                    ctx.stroke();

                    ctx.restore();
                };

                this.update = function() {
                    // Move the balloon upwards with a slight wobble
                    this.x += Math.sin(this.y / 100) * 0.5;
                    this.y += this.velocity.y;

                    // Reset balloon to the bottom if it goes off screen
                    if (this.y < -this.size * 5) {
                        this.y = canvas.height + this.size * 5;
                        this.x = Math.random() * canvas.width;
                    }

                    this.draw();
                };
            }

            // Function to generate a random color
            function randomParticleColor() {
                const colors = ['#f0f', '#f48cff', '#fff'];
                return colors[Math.floor(Math.random() * colors.length)];
            }

            // Function to generate a random balloon color
            function randomBalloonColor() {
                const colors = ['#ff6f69', '#ffcc5c', '#88d8b0', '#9c00ff', '#5cb3ff'];
                return colors[Math.floor(Math.random() * colors.length)];
            }

            // Initialize particles and balloons
            function init() {
                particles = [];
                for (let i = 0; i < numParticles; i++) {
                    const radius = Math.random() * 2 + 1; // Particle radius
                    const x = Math.random() * (canvas.width - radius * 2) + radius;
                    const y = Math.random() * (canvas.height - radius * 2) + radius;
                    const color = randomParticleColor();
                    const velocity = {
                        x: (Math.random() - 0.5) * 0.5,
                        y: (Math.random() - 0.5) * 0.5
                    };
                    particles.push(new Particle(x, y, radius, color, velocity));
                }

                balloons = [];
                for (let i = 0; i < numBalloons; i++) {
                    const size = Math.random() * 15 + 20;
                    const x = Math.random() * canvas.width;
                    const y = Math.random() * canvas.height + canvas.height;
                    const color = randomBalloonColor();
                    const velocity = {
                        y: -(Math.random() * 0.5 + 0.5)
                    };
                    balloons.push(new Balloon(x, y, size, color, velocity));
                }
            }

            // Animation loop
            function animate() {
                requestAnimationFrame(animate);
                ctx.clearRect(0, 0, canvas.width, canvas.height); // Clear the canvas

                particles.forEach(particle => {
                    particle.update();
                });
                
                balloons.forEach(balloon => {
                    balloon.update();
                });
            }

            // Start the animation on window load
            init();
            animate();
        });

        // JavaScript for the 2D carousel
        window.onload = function() {
            const carouselImg = document.getElementById('carousel-img');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            const imageUrls = [
                'images/1.jpg',
                'images/2.jpg',
                'images/3.jpg'
            ];
            let currentImageIndex = 0;

            // Function to update the image
            function updateImage() {
                carouselImg.src = imageUrls[currentImageIndex];
            }

            // Event listener for the previous button
            prevBtn.addEventListener('click', () => {
                currentImageIndex = (currentImageIndex - 1 + imageUrls.length) % imageUrls.length;
                updateImage();
            });

            // Event listener for the next button
            nextBtn.addEventListener('click', () => {
                currentImageIndex = (currentImageIndex + 1) % imageUrls.length;
                updateImage();
            });

            // Initial image load
            updateImage();
        };

        // JavaScript for the background music player
        const musicBtn = document.getElementById('music-btn');
        const playIcon = document.getElementById('play-icon');
        const pauseIcon = document.getElementById('pause-icon');
        const backgroundMusic = document.getElementById('background-music');

        musicBtn.addEventListener('click', () => {
            if (backgroundMusic.paused) {
                backgroundMusic.play();
                playIcon.classList.add('hidden');
                pauseIcon.classList.remove('hidden');
            } else {
                backgroundMusic.pause();
                playIcon.classList.remove('hidden');
                pauseIcon.classList.add('hidden');
            }
        });
    </script>
</body>
</html>
